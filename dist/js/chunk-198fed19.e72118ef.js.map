{"version":3,"sources":["webpack:///./src/components/NuclideList.vue?2a18","webpack:///./src/components/NuclideList.vue?2b67","webpack:///./src/components/NuclideInfo.vue?ec39","webpack:///./src/components/NuclideInfo.vue","webpack:///./src/components/NuclideInfo.vue?4e49","webpack:///./src/components/NuclideInfo.vue?6368","webpack:///./src/components/NuclideList.vue","webpack:///./src/components/NuclideList.vue?bb57","webpack:///./src/components/NuclideList.vue?f572","webpack:///./src/components/NuclideInfo.vue?f083"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","nuclidesCount","_l","isotopes","i","key","nuclide","j","_e","staticRenderFns","_v","_s","A","Z","toString","length","name","Nucleus","component","multiThree","MultiThree","$refs","scene","initScenes","addEventListeners","stopRender","removeEventListeners","chunkSize","progressBar","progress","backgroundColor","nuclides","nucleus","el","document","getElementById","N","mesh","NucleusMesh","position","y","z","background","add","addScene","tick","value","Promise","requestAnimationFrame","e","hidden","$el","addEventListener","onWheel","removeEventListener","f","scrollWidth","scrollHeight","preventDefault","window","scrollBy","deltaY","Array","Number","components","NuclideInfo"],"mappings":"kHAAA,yBAAkd,EAAG,G,kECArd,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACG,IAAI,UAAUH,EAAG,WAAW,CAACG,IAAI,WAAWC,MAAM,CAAC,MAAQ,qBAAqB,MAAQ,IAAI,IAAMR,EAAIS,iBAAiBL,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,UAAUR,EAAIU,GAAIV,EAAY,UAAE,SAASW,EAASC,GAAG,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAEN,YAAY,eAAeN,EAAIU,GAAG,GAAW,SAASI,EAAQC,GAAG,OAAOX,EAAG,KAAK,CAACS,IAAIE,GAAG,CAAC,EAAUX,EAAG,cAAc,CAACI,MAAM,CAAC,QAAUM,EAAQ,GAAM,WAAaF,EAAI,IAAMG,KAAMf,EAAIgB,MAAM,MAAK,MAAK,MAC/iBC,EAAkB,G,gLCDlB,EAAS,WAAa,IAAIjB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,KAAK,EAAI,IAAI,YAAY,UAAU,CAACJ,EAAG,QAAQ,CAACJ,EAAIkB,GAAG,oBAAoBlB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIc,QAAQM,GAAG,OAAOhB,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,KAAK,EAAI,IAAI,YAAY,UAAU,CAACJ,EAAG,QAAQ,CAACJ,EAAIkB,GAAG,mBAAmBlB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIc,QAAQO,GAAG,OAAOjB,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,KAAK,EAAI,GAAK,EAAIR,EAAIc,QAAQM,EAAEE,WAAWC,OAAO,YAAY,UAAU,CAACvB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIc,QAAQU,MAAM,UAClhB,EAAkB,G,YCID,EAArB,qIAAyC,QACxB,gBAAd,eAAKC,EAAA,O,8BADa,EAAW,gBAD/B,QACoB,WCLiX,I,wBCQlYC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCRM,EAArB,gUAMIzB,KAAK0B,WAAa,IAAIC,EAAA,KAAW3B,KAAK4B,MAAMC,OAC5C7B,KAAK8B,WAAW,IAChB9B,KAAK+B,oBART,2RAYI/B,KAAK0B,WAAWM,aAChBhC,KAAKiC,uBAbT,qMAgB4BC,GAhB5B,6GAiBQvB,EAAI,EACFwB,EAAcnC,KAAK4B,MAAMQ,SACzBC,EAAkB,IAAI,OAAY,EAAG,EAAG,GAnBlD,iBAoB2BrC,KAAKsC,UApBhC,4DAoBe5B,EApBf,QAqBWA,EArBX,yEAsB4BA,GAtB5B,8DAsBiB6B,EAtBjB,QAuBaA,EAvBb,2DAwBcC,EAAyBC,SAASC,eAAT,kBAAmCH,EAAQnB,EAA3C,YAAgDmB,EAAQI,IAClFH,EAzBb,2DA0BcI,EAAO,IAAIC,EAAA,KAAYN,GAC7BK,EAAKE,SAASC,GAAK,GACnBH,EAAKE,SAASE,GAAK,KAAQT,EAAQnB,EAC7BS,EAAQ,IAAI,OAClBA,EAAMoB,WAAaZ,EACnBR,EAAMqB,IAAIN,GACV5C,KAAK0B,WAAWyB,SAAStB,EAAOW,EAAII,EAAKQ,MACrCzC,IAAMuB,IAAc,EAjChC,wBAkCUC,EAAYkB,MAAQ1C,EAlC9B,UAmCgB,IAAI2C,QAAQC,uBAnC5B,wFAAAC,EAAA,wIAAAA,EAAA,0DAuCIrB,EAAYsB,QAAS,EAvCzB,kLA2CIzD,KAAK0D,IAAIC,iBAAiB,QAAS3D,KAAK4D,WA3C5C,6CA+CI5D,KAAK0D,IAAIG,oBAAoB,QAAS7D,KAAK4D,WA/C/C,8BAkDmBJ,GACf,IAAMM,EAAI9D,KAAK0D,IAAIK,YAAe/D,KAAK0D,IAAIM,aAC3CR,EAAES,iBACFC,OAAOC,SAAUX,EAAiBY,OAASN,EAAIN,EAAiBY,YArDpE,GAAyC,QAC1B,gBAAZ,eAAKC,Q,+BACQ,gBAAb,eAAKC,S,oCAFa,EAAW,gBAH/B,eAAU,CACTC,WAAY,CAAEC,YAAA,MAEK,WCXiX,ICQlY,G,UAAY,eACd,EACA1E,EACAkB,GACA,EACA,KACA,KACA,OAIa,e,6CCnBf,yBAAkd,EAAG,G","file":"js/chunk-198fed19.e72118ef.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nuclide-list\"},[_c('canvas',{ref:\"scene\"}),_c('progress',{ref:\"progress\",attrs:{\"title\":\"Инициализация сцен\",\"value\":\"0\",\"max\":_vm.nuclidesCount}}),_c('table',{attrs:{\"id\":\"table\"}},_vm._l((_vm.nuclides),function(isotopes,i){return _c('tr',{key:i,staticClass:\"nuclide-row\"},_vm._l((isotopes),function(nuclide,j){return _c('td',{key:j},[(nuclide)?_c('NuclideInfo',{attrs:{\"nuclide\":nuclide,\"id\":(\"isotope-\" + i + \"-\" + j)}}):_vm._e()],1)}),0)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"nuclide\"},[_c('text',{attrs:{\"y\":\"10\",\"x\":\"2\",\"font-size\":\"0.6em\"}},[_c('title',[_vm._v(\"Массовое число\")]),_vm._v(\" \"+_vm._s(_vm.nuclide.A)+\" \")]),_c('text',{attrs:{\"y\":\"21\",\"x\":\"2\",\"font-size\":\"0.6em\"}},[_c('title',[_vm._v(\"Атомное число\")]),_vm._v(\" \"+_vm._s(_vm.nuclide.Z)+\" \")]),_c('text',{attrs:{\"y\":\"19\",\"x\":10 + 3 * _vm.nuclide.A.toString().length,\"font-size\":\"1.2em\"}},[_vm._v(\" \"+_vm._s(_vm.nuclide.name)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Nucleus from '@/chem/Nucleus';\r\n\r\n@Component\r\nexport default class NuclideInfo extends Vue {\r\n  @Prop(Nucleus) private nuclide!: Nucleus;\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NuclideInfo.vue?vue&type=template&id=52e44077&\"\nimport script from \"./NuclideInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./NuclideInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NuclideInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport * as THREE from 'three';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Nucleus from '@/chem/Nucleus';\r\nimport NucleusMesh from '@/chem/mesh/NucleusMesh';\r\nimport MultiThree from '@/MultiThree';\r\nimport NuclideInfo from '@/components/NuclideInfo.vue';\r\n\r\n@Component({\r\n  components: { NuclideInfo }\r\n})\r\nexport default class NuclideList extends Vue {\r\n  @Prop(Array) private nuclides!: Array<Array<Nucleus>>;\r\n  @Prop(Number) private nuclidesCount!: number;\r\n  private multiThree!: MultiThree;\r\n\r\n  private async mounted () {\r\n    this.multiThree = new MultiThree(this.$refs.scene as HTMLCanvasElement);\r\n    this.initScenes(10);\r\n    this.addEventListeners();\r\n  }\r\n\r\n  private async beforeDestroy () {\r\n    this.multiThree.stopRender();\r\n    this.removeEventListeners();\r\n  }\r\n\r\n  private async initScenes (chunkSize: number): Promise<void> {\r\n    let i = 0;\r\n    const progressBar = this.$refs.progress as HTMLProgressElement;\r\n    const backgroundColor = new THREE.Color(1, 1, 1);\r\n    for (const isotopes of this.nuclides) {\r\n      if (!isotopes) continue;\r\n      for (const nucleus of isotopes) {\r\n        if (!nucleus) continue;\r\n        const el: HTMLElement | null = document.getElementById(`isotope-${nucleus.Z}-${nucleus.N}`);\r\n        if (!el) continue;\r\n        const mesh = new NucleusMesh(nucleus);\r\n        mesh.position.y -= 0.2;\r\n        mesh.position.z -= 0.006 * nucleus.Z;\r\n        const scene = new THREE.Scene();\r\n        scene.background = backgroundColor;\r\n        scene.add(mesh);\r\n        this.multiThree.addScene(scene, el, mesh.tick);\r\n        if (i++ % chunkSize === 0) {\r\n          progressBar.value = i;\r\n          await new Promise(requestAnimationFrame);\r\n        }\r\n      }\r\n    }\r\n    progressBar.hidden = true;\r\n  }\r\n\r\n  private addEventListeners () {\r\n    this.$el.addEventListener('wheel', this.onWheel);\r\n  }\r\n\r\n  private removeEventListeners () {\r\n    this.$el.removeEventListener('wheel', this.onWheel);\r\n  }\r\n\r\n  private onWheel (e: Event) {\r\n    const f = this.$el.scrollWidth / (this.$el.scrollHeight);\r\n    e.preventDefault();\r\n    window.scrollBy((e as WheelEvent).deltaY * f, (e as WheelEvent).deltaY);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NuclideList.vue?vue&type=template&id=169567c4&\"\nimport script from \"./NuclideList.vue?vue&type=script&lang=ts&\"\nexport * from \"./NuclideList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NuclideList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}