{"version":3,"sources":["webpack:///./src/components/NuclideList.vue?2a18","webpack:///./src/components/NuclideList.vue?7db2","webpack:///./src/components/NuclideInfo.vue?495b","webpack:///./src/components/NuclideInfo.vue","webpack:///./src/components/NuclideInfo.vue?4e49","webpack:///./src/components/NuclideInfo.vue?6368","webpack:///./src/components/NuclideList.vue","webpack:///./src/components/NuclideList.vue?bb57","webpack:///./src/components/NuclideList.vue?f572","webpack:///./src/components/NuclideInfo.vue?f083"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","nuclidesCount","state","nuclides","length","_l","isotopes","i","key","nuclide","j","_e","staticRenderFns","_v","_s","A","Z","toString","name","bindingEnergy","toPrecision","Nucleus","component","buildNuclides","multiThree","MultiThree","$refs","scene","initScenes","addEventListeners","stopRender","removeEventListeners","chunkSize","$watch","progressBar","progress","backgroundColor","nucleus","el","document","getElementById","N","mesh","NucleusMesh","position","y","z","background","add","addScene","tick","value","Promise","requestAnimationFrame","e","hidden","$el","addEventListener","onWheel","removeEventListener","f","scrollWidth","scrollHeight","preventDefault","window","scrollBy","deltaY","Particles","components","NuclideInfo"],"mappings":"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","file":"js/chunk-198fed19.33739cdc.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nuclide-list\"},[_c('canvas',{ref:\"scene\"}),_c('progress',{ref:\"progress\",attrs:{\"title\":\"Инициализация сцен\",\"value\":\"0\",\"max\":_vm.nuclidesCount}}),(_vm.state.nuclides.length > 0)?_c('table',{attrs:{\"id\":\"table\"}},_vm._l((_vm.state.nuclides),function(isotopes,i){return _c('tr',{key:i,staticClass:\"nuclide-row\"},_vm._l((isotopes),function(nuclide,j){return _c('td',{key:j},[(nuclide)?_c('NuclideInfo',{attrs:{\"nuclide\":nuclide,\"id\":(\"isotope-\" + i + \"-\" + j)}}):_vm._e()],1)}),0)}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"nuclide\"},[_c('text',{attrs:{\"x\":\"2\",\"y\":\"10\",\"font-size\":\"0.6em\"}},[_c('title',[_vm._v(\"Массовое число\")]),_vm._v(\" \"+_vm._s(_vm.nuclide.A)+\" \")]),_c('text',{attrs:{\"x\":\"2\",\"y\":\"21\",\"font-size\":\"0.6em\"}},[_c('title',[_vm._v(\"Атомное число\")]),_vm._v(\" \"+_vm._s(_vm.nuclide.Z)+\" \")]),_c('text',{attrs:{\"x\":10 + 3 * _vm.nuclide.A.toString().length,\"y\":\"19\",\"font-size\":\"1.2em\"}},[_vm._v(\" \"+_vm._s(_vm.nuclide.name)+\" \")]),_c('text',{attrs:{\"text-anchor\":\"end\",\"x\":\"79\",\"y\":\"10\",\"font-size\":\"0.6em\"}},[_c('title',[_vm._v(\"Энергия связи \"+_vm._s(_vm.nuclide.bindingEnergy)+\" МэВ\")]),_vm._v(\" \"+_vm._s(_vm.nuclide.bindingEnergy.toPrecision(4))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Nucleus from '@/chem/Nucleus';\r\n\r\n@Component\r\nexport default class NuclideInfo extends Vue {\r\n  @Prop(Nucleus) private nuclide!: Nucleus;\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NuclideInfo.vue?vue&type=template&id=494e3a17&\"\nimport script from \"./NuclideInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./NuclideInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NuclideInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport * as THREE from 'three';\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport NucleusMesh from '@/chem/mesh/NucleusMesh';\r\nimport MultiThree from '@/MultiThree';\r\nimport NuclideInfo from '@/components/NuclideInfo.vue';\r\nimport { Action, State } from 'vuex-class';\r\nimport Particles from '@/store/Particles';\r\n\r\n@Component({\r\n  components: { NuclideInfo }\r\n})\r\nexport default class NuclideList extends Vue {\r\n  private nuclidesCount: number = 3000;\r\n\r\n  @State(Particles.name)\r\n  public state!: Particles;\r\n\r\n  @Action\r\n  public buildNuclides!: () => void;\r\n\r\n  private multiThree!: MultiThree;\r\n\r\n  private beforeMount () {\r\n    this.buildNuclides();\r\n  }\r\n\r\n  private async mounted () {\r\n    if (!this.multiThree) {\r\n      this.multiThree = new MultiThree(this.$refs.scene as HTMLCanvasElement);\r\n    }\r\n    this.initScenes(10);\r\n    this.addEventListeners();\r\n  }\r\n\r\n  private async beforeDestroy () {\r\n    this.multiThree.stopRender();\r\n    this.removeEventListeners();\r\n  }\r\n\r\n  private async initScenes (chunkSize: number): Promise<void> {\r\n    if (this.state.nuclides.length === 0) {\r\n      this.$watch('state.nuclides', () => {\r\n        this.initScenes(chunkSize);\r\n      });\r\n      return;\r\n    }\r\n    let i = 0;\r\n    const progressBar = this.$refs.progress as HTMLProgressElement;\r\n    const backgroundColor = new THREE.Color(1, 1, 1);\r\n    for (const isotopes of this.state.nuclides) {\r\n      if (!isotopes) continue;\r\n      for (const nucleus of isotopes) {\r\n        if (!nucleus) continue;\r\n        const el: HTMLElement | null = document.getElementById(`isotope-${nucleus.Z}-${nucleus.N}`);\r\n        if (!el) continue;\r\n        const mesh = new NucleusMesh(nucleus);\r\n        mesh.position.y -= 0.2;\r\n        mesh.position.z -= 0.006 * nucleus.Z;\r\n        const scene = new THREE.Scene();\r\n        scene.background = backgroundColor;\r\n        scene.add(mesh);\r\n        this.multiThree.addScene(scene, el, mesh.tick);\r\n        if (i++ % chunkSize === 0) {\r\n          progressBar.value = i;\r\n          await new Promise(requestAnimationFrame);\r\n        }\r\n      }\r\n    }\r\n    progressBar.hidden = true;\r\n  }\r\n\r\n  private addEventListeners () {\r\n    this.$el.addEventListener('wheel', this.onWheel);\r\n  }\r\n\r\n  private removeEventListeners () {\r\n    this.$el.removeEventListener('wheel', this.onWheel);\r\n  }\r\n\r\n  private onWheel (e: Event) {\r\n    const f = this.$el.scrollWidth / (this.$el.scrollHeight);\r\n    e.preventDefault();\r\n    window.scrollBy((e as WheelEvent).deltaY * f, (e as WheelEvent).deltaY);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NuclideList.vue?vue&type=template&id=2d5c172d&\"\nimport script from \"./NuclideList.vue?vue&type=script&lang=ts&\"\nexport * from \"./NuclideList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NuclideList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NuclideInfo.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}